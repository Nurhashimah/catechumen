<div class="tform">
  

  <%= render :partial => 'applyshow' %>
	<table width=100% >
		<tr>
		  <td class="leftcol"><label for="replacement_id"><b><%= t 'staffleave.replacement_id' %> :</b></label></td>
			<td><%=h @leaveforstaff.replacement_id.blank? ? "" : @leaveforstaff.replacement.name %></td>
		</tr>
		<tr>
		  <td class="leftcol"><label for="balance_before"><%= t 'staffleave.leave_balance'%> :<br><%= t 'staffleave.balance_before' %><b></label></td>
		  <td><%= @leaveforstaff.applicant.appointdt.nil? ? (t 'staffleave.appointdt_not_exist') : @leaveforstaff.balance_before %></td>
		</tr>
		<tr>
		  <td class="leftcol"><label for="balance_after"><%= t 'staffleave.leave_balance'%> :<br><%= t 'staffleave.balance_after' %><b></label></td>
		  <td><%= @leaveforstaff.applicant.appointdt.nil? ? (t 'staffleave.appointdt_not_exist') : @leaveforstaff.balance_after%></td>
		</tr>
		<tr>
		  <td class="leftcol"><label for="replacement_id"><b><%= t 'staffleave.entitlement' %> :</b></label></td>
		  <td><%= @leaveforstaff.applicant.appointdt.nil? ? (t 'staffleave.appointdt_not_exist') : @leaveforstaff.leave_balance.to_s+"/"+@leaveforstaff.cuti_rehat_entitlement.to_s%> </td>
		</tr>
		
	</table>

<H2><%= t 'staffleave.approve_leave' %></H2>
	<table>
		<tr>
		  <td class="leftcol"><label for="approval1"><b><%= t 'staffleave.approval1' %> :</b></label></td>
			<td><%=h @leaveforstaff.approval1? ? (t 'staffleave.supported') : (t 'staffleave.not_supported') %></td>
		</tr>
		<tr>
			<td class="leftcol"><label for="approval1_id"><b><%= t 'staffleave.approval1_id' %> :</b></label></td>
			<td><%#=h @leaveforstaff.approval1_id.blank? ? "" : @leaveforstaff.seconder.name %>
			         <% if @leaveforstaff.approval1_id.blank? %>
					<%= @leaveforstaff.applicant.position.unit.blank? ? (t 'staffleave.unit_not_defined') : "" %>
				<% else %>
					<%=@leaveforstaff.seconder.name%>
				<% end %>
			</td>
		</tr>

		<tr>
		  <td class="leftcol"><label for="approval1date"><b><%= t 'staffleave.approval1date' %> :</b></label></td>
			<td><%=h @leaveforstaff.approval1date.nil? ? "" : l(@leaveforstaff.approval1date)%></td>
		</tr>
	
		<tr>
		  <td class="leftcol"><label for="approver2"><b><%= t 'staffleave.approver2' %> :</b></label></td>
			<td><%=h @leaveforstaff.approver2? ? (t 'staffleave.approved') : (t 'staffleave.not_approved') %></td>
		</tr>
	
		<tr>
		  <td class="leftcol"><label for="approval2_id"><b><%= t 'staffleave.approval2_id' %> :</b></label></td>
			<td><%=h @leaveforstaff.approval2_id.blank? ? (t 'not_required') : @leaveforstaff.endorser %></td>
		</tr>
	
		<tr>
		  <td class="leftcol"><label for="approval2date"><b><%= t 'staffleave.approval2date' %> :</b></label></td>
			<td><%=h @leaveforstaff.approval2date.nil? ? "" : l(@leaveforstaff.approval2date) %></td>
		</tr>
  </table>
</div>
<BR>
<% if @leaveforstaff.staff_id == Login.current_login.staff_id %>
<%= link_to (t 'edit'), edit_leaveforstaff_path(@leaveforstaff) %> |<% end %>
<%= link_to (t 'icms.back'), leaveforstaffs_path %>